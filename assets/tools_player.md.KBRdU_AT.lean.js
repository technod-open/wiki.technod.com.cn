import{_ as y,p as i,v as f,c as g,o as x,j as t,af as u,ag as _,ah as h}from"./chunks/framework.BGjk28iD.js";const b={class:"player-content"},P={class:"nav-tab",style:{display:"flex",width:"94%"}},w={style:{flex:"0.4","padding-top":"10px","padding-bottom":"10px","padding-right":"10px"}},H={style:{flex:"1",padding:"10px"}},E=JSON.parse('{"title":"","description":"","frontmatter":{"layout":"page"},"headers":[],"relativePath":"tools/player.md","filePath":"tools/player.md"}'),M={name:"tools/player.md"},T=Object.assign(M,{setup(j){const s=i("https://mock.nodjoy.com/static/video.mp4"),d=i("mp4"),n=i("https://cdn.nodjoy.com/images/5cf8c5d9c57b510947.png"),c=()=>{const o=document.getElementById("dplayer");o&&o.remove();const e=document.createElement("div");e.id="dplayer",document.querySelector(".player-content").appendChild(e),setTimeout(()=>{p(!0)},1e3)},v=()=>!!s.value.includes("live"),m=(o,e)=>{switch(e){case"mp4":return{url:o,pic:n.value,type:"video/mp4"};case"m3u8":return{url:o,pic:n.value,type:"customHls",customType:{customHls:function(l,r){const a=new Hls;a.loadSource(l.src),a.attachMedia(l)}}};case"live-m3u8":return{url:o,pic:n.value,type:"customHls",live:!0,customType:{customHls:function(l,r){const a=new Hls;a.loadSource(l.src),a.attachMedia(l)}}};case"live-flv":return{url:o,pic:n.value,type:"customFlv",customType:{customFlv:function(l,r){const a=flvjs.createPlayer({type:"flv",url:l.src});a.attachMediaElement(l),a.load()}}}}},p=o=>{const e=new DPlayer({container:document.getElementById("dplayer"),live:v(),video:m(s.value,d.value)});o&&e.play()};return f(()=>{p()}),(o,e)=>(x(),g("div",null,[t("div",b,[t("div",P,[t("div",w,[e[3]||(e[3]=t("label",null,"选择播放类型：",-1)),u(t("select",{"onUpdate:modelValue":e[0]||(e[0]=l=>d.value=l)},[...e[2]||(e[2]=[t("option",{value:"mp4"},"mp4/mov",-1),t("option",{value:"m3u8"},"m3u8",-1),t("option",{value:"live-m3u8"},"直播流-m3u8",-1),t("option",{value:"live-flv"},"直播流-flv",-1)])],512),[[_,d.value]])]),t("div",H,[e[4]||(e[4]=t("label",null,"播放地址：",-1)),u(t("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=l=>s.value=l),style:{width:"80%"}},null,512),[[h,s.value]])]),t("div",{style:{flex:"0.4",padding:"10px"}},[t("button",{onClick:c},"点击播放")])]),e[5]||(e[5]=t("div",{id:"dplayer"},null,-1))])]))}}),S=y(T,[["__scopeId","data-v-0b5dd7d6"]]);export{E as __pageData,S as default};
